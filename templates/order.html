<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ğŸ‰ SOME BEAT ì£¼ë¬¸í•˜ê¸°</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="card">
    <h2>ğŸ‰ ì£¼ë¬¸í•˜ê¸° & ì£¼ë¬¸ë‚´ì—­</h2>
    <p>ğŸ³ ì£¼ë¬¸ ì‹œ ì¡°ë¦¬ì— 10~15ë¶„ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤!</p>
    {% for menu, available in menu_status.items() %}
        {% if not available %}
            <p style="
                color:#fffb00;
                font-weight:bold;
                text-align:center;
                margin:6px 0;
            ">
                ğŸš« {{ menu }} í’ˆì ˆ ì•ˆë‚´
            </p>
        {% endif %}
    {% endfor %}

    <hr>

    {% with messages = get_flashed_messages(category_filter=["order"]) %}
      {% if messages %}
        <div style="color:#FF4D6D; font-weight:bold;">
          {% for msg in messages %}
            <p>{{ msg }}</p>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST">
        <p><label>í…Œì´ë¸”:
            <select name="table" style="width:120px;">
                {% for t in tables %}
                <option value="{{ t }}">{{ t }}</option>
                {% endfor %}
            </select>
        </label></p>
        <p><label>ì•ˆì£¼:
            <select name="menu" style="width:120px;">
                {% for m in menu_list %}
                <option value="{{ m }}">{{ m }}</option>
                {% endfor %}
            </select>
        </label></p>
        <p><label>ìˆ˜ëŸ‰:
            <input type="number" name="quantity" min="1" value="1" style="width:120px;">
        </label></p>
        <button type="submit">ì£¼ë¬¸</button>
    </form>
    <form action="{{ url_for('main') }}">
        <button>ë©”ì¸ìœ¼ë¡œ</button>
    </form>
    <hr>
    <h3>ì£¼ë¬¸ ë‚´ì—­</h3>
    <div style="overflow-x:auto;"></div>
        <table style="width:100%; border-collapse: collapse;">
            <thead>
                <tr>
                    <th>í…Œì´ë¸”</th>
                    <th>ì•ˆì£¼</th>
                    <th>ìˆ˜ëŸ‰</th>
                    <th>ìƒíƒœ</th>
                    <th>ë°°ë‹¬ì™„ë£Œ</th>
                </tr>
            </thead>
            <tbody>
                {% for o in orders %}
                <tr>
                    <td style="text-align:center;">{{ o['table'] }}</td>
                    <td style="text-align:center;">{{ o['menu'] }}</td>
                    <td style="text-align:center;">{{ o['quantity'] }}</td>
                    <td style="text-align:center;">{{ o['status'] }}</td>
                    <td style="text-align:center;">
                        {% if o['status'] == 'ì¡°ë¦¬ì¤‘' %}
                            <form method="POST">
                                <input type="hidden" name="deliver_id" value="{{ o['id'] }}">
                                <button type="submit">ë°°ë‹¬ì™„ë£Œ</button>
                            </form>
                        {% else %}
                            <!-- ë””ìì¸ ìœ ì§€ + ë¹„í™œì„±í™” -->
                            <button type="button" disabled style="opacity:0.5; cursor:not-allowed;">
                                ë°°ë‹¬ì™„ë£Œ
                            </button>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>

        </table>
    </div>    



</div>
</body>
</html>
